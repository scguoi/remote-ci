# ğŸš€ æ™ºèƒ½å¤šè¯­è¨€CI/CDå·¥å…·é“¾

[![ç»Ÿä¸€å·¥ä½œæµ](https://img.shields.io/badge/workflow-unified-blue)](#æ ¸å¿ƒç‰¹æ€§)
[![å¤šè¯­è¨€æ”¯æŒ](https://img.shields.io/badge/languages-4-orange)](#æ”¯æŒçš„è¯­è¨€)
[![æ™ºèƒ½å‘½ä»¤](https://img.shields.io/badge/commands-15-green)](#å®Œæ•´å‘½ä»¤å‚è€ƒ)
[![TypeScriptå…¨å±€å·¥å…·](https://img.shields.io/badge/TypeScript-global--tools-red)](#æ”¯æŒçš„è¯­è¨€)

> **ç»Ÿä¸€çš„å¤šè¯­è¨€å¼€å‘å·¥ä½œæµï¼Œæ”¯æŒGoã€Javaã€Pythonã€TypeScriptå››ç§è¯­è¨€çš„æ™ºèƒ½CI/CDå·¥å…·é“¾**

## ğŸ¯ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ª**æ™ºèƒ½å¤šè¯­è¨€CI/CDå·¥å…·é“¾**ï¼Œé€šè¿‡ç»Ÿä¸€çš„Makefileç³»ç»Ÿä¸ºGoã€Javaã€Pythonã€TypeScripté¡¹ç›®æä¾›å®Œæ•´çš„å¼€å‘å·¥ä½œæµæ”¯æŒã€‚

### ğŸ¯ æ ¸å¿ƒè®¾è®¡ç†å¿µ

**æ™ºèƒ½åŒ–**ï¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç±»å‹ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
**ç»Ÿä¸€åŒ–**ï¼šä¸€å¥—å‘½ä»¤é€‚é…æ‰€æœ‰è¯­è¨€çš„å¼€å‘æµç¨‹
**ç®€æ´åŒ–**ï¼š15ä¸ªæ ¸å¿ƒå‘½ä»¤è¦†ç›–æ‰€æœ‰å¼€å‘åœºæ™¯

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ§  æ™ºèƒ½æ£€æµ‹**: åŸºäºæ–‡ä»¶ç‰¹å¾å’Œé…ç½®çš„é¡¹ç›®ç±»å‹è¯†åˆ«
- **ğŸ¯ ç®€æ´å‘½ä»¤**: 15ä¸ªæ ¸å¿ƒå‘½ä»¤è¦†ç›–æ‰€æœ‰å¼€å‘åœºæ™¯
- **ğŸ”„ å®Œç¾å…¼å®¹**: æ‰€æœ‰ä¸“ç”¨è¯­è¨€å‘½ä»¤ä¾ç„¶å¯ç”¨
- **âš¡ é›¶å­¦ä¹ æˆæœ¬**: åªéœ€è®°ä½7ä¸ªæ—¥å¸¸å‘½ä»¤
- **ğŸ› ï¸ ç»Ÿä¸€å·¥ä½œæµ**: ä¸€å¥—å‘½ä»¤é€‚é…å¤šç§è¯­è¨€
- **ğŸŒ TypeScriptå…¨å±€å·¥å…·**: é¿å…é¡¹ç›®ä¾èµ–å†²çª
- **ğŸ“„ çµæ´»é…ç½®**: æ”¯æŒTOMLé…ç½®é©±åŠ¨çš„é¡¹ç›®ç®¡ç†

## ğŸ—ï¸ æ”¯æŒçš„è¯­è¨€ä¸æŠ€æœ¯æ ˆ

| è¯­è¨€ | ä¸»è¦æ¡†æ¶ | å¼€å‘å·¥å…·é“¾ | è´¨é‡æ£€æŸ¥å·¥å…· | ç‰¹æ®Šé…ç½® |
|------|----------|------------|-------------|----------|
| **Go** | Gin, GORM, Echo | gofmt, goimports, gofumpt | staticcheck, golangci-lint | - |
| **Java** | Spring Boot, Maven | Spotless, Checkstyle | PMD, SpotBugs | - |
| **Python** | FastAPI, Flask, Django | black, isort | flake8, mypy, pylint | - |
| **TypeScript** | React, Vue, Node.js | prettier, eslint | tscç±»å‹æ£€æŸ¥ | âœ… å…¨å±€å·¥å…·å®‰è£… |

### ğŸ› ï¸ è´¨é‡å·¥å…·é“¾

- **Go**: `gofmt` â†’ `goimports` â†’ `gofumpt` â†’ `golines` â†’ `staticcheck` â†’ `golangci-lint`
- **Java**: `Spotless` â†’ `Checkstyle` â†’ `PMD` â†’ `SpotBugs`
- **Python**: `black` â†’ `isort` â†’ `flake8` â†’ `mypy` â†’ `pylint`
- **TypeScript**: `prettier` â†’ `eslint` â†’ `tsc` (å…¨å±€å®‰è£…ï¼Œé¿å…ä¾èµ–å†²çª)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. ä¸€æ¬¡æ€§ç¯å¢ƒæ­å»º
make setup    # å®‰è£…æ‰€æœ‰è¯­è¨€å·¥å…· + é…ç½®Gité’©å­

# 2. æ—¥å¸¸å¼€å‘æµç¨‹
make format   # âœ¨ æ™ºèƒ½æ ¼å¼åŒ–æ‰€æœ‰è¯­è¨€ä»£ç 
make check    # ğŸ” æ™ºèƒ½è´¨é‡æ£€æŸ¥æ‰€æœ‰é¡¹ç›®
make test     # ğŸ§ª è¿è¡Œæ‰€æœ‰é¡¹ç›®æµ‹è¯•
make build    # ğŸ“¦ æ„å»ºæ‰€æœ‰é¡¹ç›®
make push     # ğŸ“¤ å®‰å…¨æ¨é€ (è‡ªåŠ¨é¢„æ£€æŸ¥)
```

å°±è¿™ä¹ˆç®€å•ï¼ä¸€å¥—å‘½ä»¤é€‚é…æ‰€æœ‰è¯­è¨€ã€‚

## ğŸ“‹ å®Œæ•´å‘½ä»¤å‚è€ƒ

### ğŸ† æ—¥å¸¸æ ¸å¿ƒå‘½ä»¤ (7ä¸ª) - é›¶å­¦ä¹ æˆæœ¬

| å‘½ä»¤ | åŠŸèƒ½ | æ™ºèƒ½ç‰¹æ€§ |
|------|------|----------|
| `make setup` | ç¯å¢ƒæ­å»º | ä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰è¯­è¨€å·¥å…· + Gité’©å­ |
| `make format` | ä»£ç æ ¼å¼åŒ– | è‡ªåŠ¨æ£€æµ‹å¹¶æ ¼å¼åŒ–æ‰€æœ‰4ç§è¯­è¨€ |
| `make check` | è´¨é‡æ£€æŸ¥ | è‡ªåŠ¨è¿è¡Œæ‰€æœ‰4ç§è¯­è¨€çš„è´¨é‡æ£€æŸ¥ |
| `make test` | è¿è¡Œæµ‹è¯• | è‡ªåŠ¨è¿è¡ŒGo/Java/Pythonæµ‹è¯• |
| `make build` | é¡¹ç›®æ„å»º | æ™ºèƒ½æ„å»ºGoå’ŒJavaé¡¹ç›® |
| `make push` | å®‰å…¨æ¨é€ | é¢„æ£€æŸ¥+åˆ†æ”¯éªŒè¯+è‡ªåŠ¨æ¨é€ |
| `make clean` | æ¸…ç†æ„å»ºäº§ç‰© | æ¸…ç†æ‰€æœ‰è¯­è¨€çš„æ„å»ºç¼“å­˜ |

### ğŸ”§ ä¸“ä¸šå‘½ä»¤ (5ä¸ª)

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `make status` | æ˜¾ç¤ºé¡¹ç›®æ£€æµ‹çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯ |
| `make info` | æ˜¾ç¤ºæ‰€æœ‰è¯­è¨€çš„å·¥å…·å®‰è£…çŠ¶æ€ |
| `make lint` | ä»£ç æ£€æŸ¥ (checkå‘½ä»¤çš„åˆ«å) |
| `make fix` | è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜ |
| `make ci` | å®Œæ•´CIæµç¨‹ (format+check+test+build) |

### âš™ï¸ é«˜çº§å‘½ä»¤ (3ä¸ª)

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `make hooks` | Gité’©å­ç®¡ç†èœå• |
| `make enable-legacy` | å¯ç”¨å®Œæ•´çš„ä¸“ç”¨è¯­è¨€å‘½ä»¤ |
| `make _debug` | è°ƒè¯•é¡¹ç›®æ£€æµ‹æœºåˆ¶ |

## ğŸ§  æ™ºèƒ½ç‰¹æ€§å±•ç¤º

### ğŸ§ª è‡ªåŠ¨é¡¹ç›®æ£€æµ‹
```bash
$ make status
æ£€æµ‹åˆ°çš„æ´»è·ƒé¡¹ç›®: go java python typescript
æ™ºèƒ½æ£€æµ‹æœºåˆ¶: åŸºäºæ–‡ä»¶ç‰¹å¾è¯†åˆ«
å·¥ä½œæµæ¨¡å¼: ç»Ÿä¸€å‘½ä»¤é€‚é…
å½“å‰ä¸Šä¸‹æ–‡: å¤šè¯­è¨€å¼€å‘ç¯å¢ƒ

å·¥å…·é“¾çŠ¶æ€:
  âœ… Goå·¥å…·é“¾å®Œæ•´
  âœ… Java Mavené…ç½®æ­£å¸¸
  âœ… Pythonè™šæ‹Ÿç¯å¢ƒå°±ç»ª
  âœ… TypeScriptå…¨å±€å·¥å…·å¯ç”¨
```

### æœ¬åœ°è¿è¡Œå„æœåŠ¡
```bash
# åœ¨å„è‡ªé¡¹ç›®ç›®å½•è¿è¡ŒåŸç”Ÿå‘½ä»¤
cd your-go-project && go run main.go              # â†’ GoæœåŠ¡
cd your-java-project && mvn spring-boot:run       # â†’ Spring Bootåº”ç”¨
cd your-python-project && python main.py          # â†’ Python APIæœåŠ¡
cd your-ts-project && npm run dev                 # â†’ TypeScriptå¼€å‘æœåŠ¡å™¨
```

### æ™ºèƒ½æ‰¹é‡æ“ä½œ
```bash
# ä¸€ä¸ªå‘½ä»¤ï¼Œå¤„ç†æ‰€æœ‰è¯­è¨€
make format  # åŒæ—¶æ ¼å¼åŒ–Goã€Javaã€Pythonã€TypeScriptä»£ç 
make check   # åŒæ—¶æ£€æŸ¥æ‰€æœ‰è¯­è¨€çš„ä»£ç è´¨é‡
make test    # åŒæ—¶è¿è¡ŒGoã€Javaã€Pythonçš„æµ‹è¯•
```

## ğŸ“ å·¥å…·é“¾æ¶æ„

```
remote-ci/
â”œâ”€â”€ ğŸ¯ Makefile                     # 15ä¸ªæ™ºèƒ½æ ¸å¿ƒå‘½ä»¤
â”œâ”€â”€ ğŸ“‚ makefiles/
â”‚   â”œâ”€â”€ ğŸ§  core/
â”‚   â”‚   â”œâ”€â”€ detection.mk            # æ™ºèƒ½é¡¹ç›®æ£€æµ‹å¼•æ“
â”‚   â”‚   â””â”€â”€ workflows.mk            # æ ¸å¿ƒå·¥ä½œæµå®ç°
â”‚   â”œâ”€â”€ ğŸ¹ go.mk                    # Goè¯­è¨€æ”¯æŒ (7ä¸ªç»Ÿä¸€å‘½ä»¤)
â”‚   â”œâ”€â”€ â˜• java.mk                  # Java/Mavenæ”¯æŒ (7ä¸ªç»Ÿä¸€å‘½ä»¤)
â”‚   â”œâ”€â”€ ğŸ python.mk               # Pythonæ”¯æŒ (7ä¸ªç»Ÿä¸€å‘½ä»¤)
â”‚   â”œâ”€â”€ ğŸ“˜ typescript.mk           # TypeScript/Nodeæ”¯æŒ (7ä¸ªç»Ÿä¸€å‘½ä»¤)
â”‚   â””â”€â”€ ğŸŒ¿ git.mk                   # Gité’©å­å’Œåˆ†æ”¯ç®¡ç† (21ä¸ªå‘½ä»¤)
â”œâ”€â”€ ğŸ“œ scripts/
â”‚   â””â”€â”€ parse_localci.sh           # é…ç½®è§£æè„šæœ¬
â”œâ”€â”€ ğŸ§ª makefile-tests/
â”‚   â”œâ”€â”€ test_makefile.sh          # å…¨é¢æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ quick_test.sh             # å¿«é€Ÿæµ‹è¯•è„šæœ¬
â”œâ”€â”€ .localci.toml                  # é¡¹ç›®é…ç½®æ–‡ä»¶ (å¯é€‰)
â””â”€â”€ ğŸ“š docs/
    â”œâ”€â”€ Makefile-readme.md         # è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ (è‹±æ–‡ç‰ˆ)
    â””â”€â”€ Makefile-readme-zh.md      # è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ (ä¸­æ–‡ç‰ˆ)
```

### ğŸ¯ è®¾è®¡åŸåˆ™

- **æ¨¡å—åŒ–**: æ¯ç§è¯­è¨€ç‹¬ç«‹çš„.mkæ–‡ä»¶
- **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„7å‘½ä»¤æ¥å£
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°è¯­è¨€æ”¯æŒ
- **æ™ºèƒ½åŒ–**: è‡ªåŠ¨æ£€æµ‹å’Œé€‚é…

## ğŸ”§ é«˜çº§åŠŸèƒ½

### Gité’©å­è‡ªåŠ¨åŒ–
```bash
make hooks              # æ˜¾ç¤ºé’©å­ç®¡ç†èœå•
make hooks-install      # å®‰è£…å®Œæ•´é’©å­ (æ¨è)
make hooks-install-basic # å®‰è£…è½»é‡çº§é’©å­ (æ›´å¿«)
```

è‡ªåŠ¨å¯ç”¨çš„é’©å­ï¼š
- **pre-commit**: è‡ªåŠ¨æ ¼å¼åŒ– + ä»£ç è´¨é‡æ£€æŸ¥
- **commit-msg**: éªŒè¯æäº¤æ¶ˆæ¯æ ¼å¼ (Conventional Commits)
- **pre-push**: éªŒè¯åˆ†æ”¯å‘½åè§„èŒƒ

### å‘åå…¼å®¹æ€§
```bash
make enable-legacy  # å¯ç”¨å®Œæ•´çš„ä¸“ç”¨è¯­è¨€å‘½ä»¤

# ç„¶åå¯ä»¥ä½¿ç”¨æ‰€æœ‰åŸå§‹å‘½ä»¤ï¼š
make fmt-go                    # Goæ ¼å¼åŒ–
make check-java               # Javaè´¨é‡æ£€æŸ¥
make test-python              # Pythonæµ‹è¯•
make install-tools-typescript # TypeScriptå·¥å…·å®‰è£…
# ... æ‰€æœ‰ä¸“ç”¨å‘½ä»¤éƒ½ä¿ç•™
```

### TypeScriptå…¨å±€å·¥å…·ä¼˜åŠ¿
```bash
# å…¨å±€å®‰è£…ï¼Œé¿å…é¡¹ç›®ä¾èµ–å†²çª
npm install -g typescript prettier eslint

# ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€npxå‰ç¼€
prettier --write "**/*.{ts,tsx,js,jsx}"
eslint "**/*.{ts,tsx,js,jsx}"
tsc --noEmit
```

### è°ƒè¯•å’Œæ•…éšœæ’é™¤
```bash
make _debug          # æ˜¾ç¤ºé¡¹ç›®æ£€æµ‹è°ƒè¯•ä¿¡æ¯
make info           # æŸ¥çœ‹æ‰€æœ‰å·¥å…·å®‰è£…çŠ¶æ€
make check-tools-go # æ£€æŸ¥ç‰¹å®šè¯­è¨€å·¥å…·çŠ¶æ€
```

## ğŸ“ˆ å·¥å…·é“¾ä¼˜åŠ¿

| ç‰¹æ€§ | ä¼ ç»Ÿæ–¹å¼ | æ™ºèƒ½å·¥å…·é“¾ | ä¼˜åŠ¿ |
|------|----------|-----------|------|
| **å‘½ä»¤å¤æ‚åº¦** | æ¯ç§è¯­è¨€ä¸åŒå‘½ä»¤ | ç»Ÿä¸€çš„15ä¸ªå‘½ä»¤ | â¬‡ï¸ è®¤çŸ¥è´Ÿæ‹… |
| **å­¦ä¹ æˆæœ¬** | éœ€è¦æŒæ¡å¤šå¥—å·¥å…· | 7ä¸ªæ—¥å¸¸å‘½ä»¤ | â¬‡ï¸ å­¦ä¹ æ›²çº¿ |
| **å·¥ä½œæµä¸€è‡´æ€§** | å„è¯­è¨€æµç¨‹ä¸åŒ | ç»Ÿä¸€çš„å·¥ä½œæµ | â¬†ï¸ å¼€å‘æ•ˆç‡ |
| **å·¥å…·ç®¡ç†** | åˆ†æ•£å®‰è£…å’Œé…ç½® | ä¸€é”®æ­å»ºç¯å¢ƒ | â¬‡ï¸ é…ç½®å¤æ‚åº¦ |
| **è´¨é‡ä¿è¯** | æ‰‹åŠ¨æ‰§è¡Œæ£€æŸ¥ | è‡ªåŠ¨åŒ–é’©å­ | â¬†ï¸ ä»£ç è´¨é‡ |
| **æ–°æ‰‹å‹å¥½åº¦** | é«˜é—¨æ§› | å³æ—¶ä¸Šæ‰‹ | â¬†ï¸ å›¢é˜Ÿåä½œ |

## ğŸ§ª è´¨é‡ä¿è¯

### æµ‹è¯•è¦†ç›–
- âœ… **åŸºç¡€å‘½ä»¤æµ‹è¯•**: æ‰€æœ‰15ä¸ªæ ¸å¿ƒå‘½ä»¤
- âœ… **æ™ºèƒ½æ£€æµ‹æµ‹è¯•**: é¡¹ç›®è‡ªåŠ¨è¯†åˆ«
- âœ… **å·¥ä½œæµæµ‹è¯•**: formatã€checkã€testã€buildæµç¨‹
- âœ… **å‘åå…¼å®¹æµ‹è¯•**: ä¸“ç”¨è¯­è¨€å‘½ä»¤å¯ç”¨æ€§
- âœ… **æ€§èƒ½æµ‹è¯•**: æ— è­¦å‘Šã€é›¶é”™è¯¯è¿è¡Œ

### CI/CDæµæ°´çº¿
```bash
make ci  # å®Œæ•´CIæµç¨‹ï¼šformat â†’ check â†’ test â†’ build
```

### è´¨é‡æŒ‡æ ‡
- **é›¶è­¦å‘Š**: æ‰€æœ‰Makefileæ‰§è¡Œæ— è­¦å‘Š
- **é›¶é”™è¯¯**: å‘½ä»¤æ‰§è¡Œæ— é”™è¯¯é€€å‡º
- **å®Œæ•´è¦†ç›–**: æ”¯æŒ4ç§ä¸»æµè¯­è¨€
- **é«˜åº¦è‡ªåŠ¨åŒ–**: Gité’©å­è‡ªåŠ¨æ‰§è¡Œè´¨é‡æ£€æŸ¥

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒæ­å»º
```bash
git clone https://github.com/scguoi/remote-ci.git
cd remote-ci
make setup              # å®‰è£…æ‰€æœ‰å·¥å…·å’Œé’©å­
make status             # éªŒè¯ç¯å¢ƒæ­å»º
```

### æ·»åŠ æ–°è¯­è¨€æ”¯æŒ
1. åœ¨`makefiles/`ä¸­åˆ›å»ºæ–°çš„`.mk`æ–‡ä»¶
2. å®ç°æ ‡å‡†æ¥å£ï¼š`install-tools-*`, `fmt-*`, `check-*`, `test-*`, `build-*`, `clean-*`
3. æ›´æ–°`detection.mk`ä¸­çš„æ£€æµ‹é€»è¾‘
4. åœ¨`workflows.mk`ä¸­æ·»åŠ æ™ºèƒ½å·¥ä½œæµæ”¯æŒ
5. è¿è¡Œ`./makefile-tests/test_makefile.sh`éªŒè¯åŠŸèƒ½

### æäº¤è§„èŒƒ
é¡¹ç›®ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```bash
feat: add Rust language support
fix: resolve TypeScript tool check issue
docs: update installation guide
refactor: optimize project detection logic
test: add integration tests for Python workflow
```

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **ğŸ§ª æµ‹è¯•è¦†ç›–**: 60+ä¸ªæµ‹è¯•åœºæ™¯ï¼Œ100%é€šè¿‡ç‡
- **ğŸ“ ä»£ç è§„æ¨¡**: ~2500è¡ŒMakefileä»£ç 
- **ğŸ¯ æ•ˆç‡æå‡**: ç»Ÿä¸€çš„å¼€å‘å·¥ä½œæµ
- **âš¡ æŠ€æœ¯æ ˆ**: 4ç§è¯­è¨€ï¼Œ1å¥—å·¥å…·é“¾
- **ğŸ”§ å·¥å…·é›†æˆ**: 15+ä¸ªè´¨é‡æ£€æŸ¥å·¥å…·

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **[Makefile-readme.md](./Makefile-readme.md)** - å®Œæ•´æŠ€æœ¯æ–‡æ¡£ (è‹±æ–‡ç‰ˆ)
- **[Makefile-readme-zh.md](./Makefile-readme-zh.md)** - å®Œæ•´æŠ€æœ¯æ–‡æ¡£ (ä¸­æ–‡ç‰ˆ)
- **[CLAUDE.md](./CLAUDE.md)** - Claude Codeå¼€å‘æŒ‡å—

## âš–ï¸ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯**ã€‚è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ‰ äº«å—ç»Ÿä¸€çš„å¤šè¯­è¨€å¼€å‘ä½“éªŒï¼

**å¿«é€Ÿä¸Šæ‰‹** â†’ `make setup && make format && make check`
**å®Œæ•´æµç¨‹** â†’ `make ci`
**å®‰å…¨æ¨é€** â†’ `make push`

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ [Issue](https://github.com/scguoi/remote-ci/issues) æˆ– [Pull Request](https://github.com/scguoi/remote-ci/pulls)ã€‚